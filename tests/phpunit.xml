<?xml version="1.0" encoding="UTF-8"?>
<phpunit xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="https://schema.phpunit.de/8.5/phpunit.xsd"
         bootstrap="../vendor/autoload.php"
         colors="true"
         convertErrorsToExceptions="true"
         convertNoticesToExceptions="true"
         convertWarningsToExceptions="true"
         processIsolation="false"
         stopOnFailure="false"
         timeoutForSmallTests="1"
         timeoutForMediumTests="10"
         timeoutForLargeTests="60"
         cacheResultFile="../.phpunit.result.cache"
         executionOrder="random"
         failOnWarning="true"
         failOnRisky="true"
         beStrictAboutOutputDuringTests="true"
         verbose="true">
    
    <testsuites>
        <!-- 单元测试套件 -->
        <testsuite name="Unit">
            <directory>./Unit</directory>
        </testsuite>
        
        <!-- 集成测试套件 -->
        <testsuite name="Integration">
            <directory>./Integration</directory>
        </testsuite>
        
        <!-- 性能测试套件 -->
        <testsuite name="Performance">
            <directory>./Performance</directory>
        </testsuite>
        
        <!-- 完整测试套件 -->
        <testsuite name="Complete">
            <directory>./Unit</directory>
            <directory>./Integration</directory>
            <directory>./Performance</directory>
        </testsuite>
        
        <!-- 快速测试套件（排除性能测试） -->
        <testsuite name="Fast">
            <directory>./Unit</directory>
            <directory>./Integration</directory>
        </testsuite>
    </testsuites>
    
    <!-- PHP配置 -->
    <php>
        <ini name="memory_limit" value="512M"/>
        <ini name="max_execution_time" value="300"/>
        <ini name="error_reporting" value="E_ALL"/>
        <ini name="display_errors" value="1"/>
    </php>
</phpunit>